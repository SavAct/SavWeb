"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[536],{84071:(e,l,t)=>{t.r(l),t.d(l,{default:()=>je});var o=t(59835),i=t(86970),n=t(61957);const a=e=>((0,o.dD)("data-v-5619c20b"),e=e(),(0,o.Cn)(),e),s={class:"row justify-between reverse q-my-md"},c={class:"col-12 col-sm-5 col-md-3 q-px-sm"},u={class:"row justify-between"},r={class:"col-12"},d={class:"col-12 text-h6 text-left"},p={class:"col-12 text-left"},m={class:"q-px-sm card col"},v={class:"col q-pr-sm"},g={key:1,class:"text-h6"},w={class:"col-auto row"},b={class:"col-grow"},y={class:"col q-pl-sm"},h={class:"col-grow q-pr-sm"},f={class:"full-height column cursor-pointer"},k=["onClick"],S={key:0},_={class:"col-auto justify-end column"},q={class:"col-auto"},x={key:0},C={class:"col-auto",caption:""},U={class:"col-grow"},T={class:"full-width row flex-center q-gutter-sm"},W={class:"text-h6"},H={class:"q-mt-sm q-mr-sm"},D={class:"text-h6"},V={key:0,class:"q-mt-sm q-mr-sm"},j={key:0},B={key:1},Z=a((()=>(0,o._)("span",null,"Not available onymore!",-1)));function P(e,l,t,a,P,z){const I=(0,o.up)("q-btn"),R=(0,o.up)("q-btn-toggle"),F=(0,o.up)("q-card"),Q=(0,o.up)("key-or-name-input"),N=(0,o.up)("q-tooltip"),O=(0,o.up)("q-th"),A=(0,o.up)("q-item-label"),$=(0,o.up)("q-icon"),L=(0,o.up)("vote-buttons"),E=(0,o.up)("remaining-time"),K=(0,o.up)("q-item-section"),Y=(0,o.up)("stream-embed"),M=(0,o.up)("social-channels"),G=(0,o.up)("q-item"),J=(0,o.up)("q-td"),X=(0,o.up)("q-tr"),ee=(0,o.up)("q-table"),le=(0,o.up)("symbol-dialog"),te=(0,o.up)("q-card-section"),oe=(0,o.up)("q-card-actions"),ie=(0,o.up)("q-dialog"),ne=(0,o.up)("wallet-eosio"),ae=(0,o.up)("q-page"),se=(0,o.Q2)("touch-hold"),ce=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(ae,{class:"justify-evenly"},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.wy)((0,o._)("div",c,[(0,o.Wm)(F,{class:"card q-px-md q-py-md q-mb-md items-center"},{default:(0,o.w5)((()=>{var t;return[(0,o._)("div",u,[(0,o.Wm)(I,{class:"col-12 q-px-md q-mb-sm",dense:"",label:`${null===(t=e.chain)||void 0===t?void 0:t.name} Network`,onClick:e.showWalletDialog,outline:""},null,8,["label","onClick"]),(0,o._)("div",r,[(0,o.Wm)(I,{size:"sm",class:"row q-px-sm q-py-none",onClick:l[0]||(l[0]=l=>e.showSymbol=!0),outline:""},{default:(0,o.w5)((()=>[(0,o._)("div",d,(0,i.zw)(e.symbol),1),(0,o._)("div",p,(0,i.zw)(e.tokenContract),1)])),_:1})])]),(0,o.Wm)(R,{class:"q-mt-sm",modelValue:e.historyByRecipient,"onUpdate:modelValue":l[1]||(l[1]=l=>e.historyByRecipient=l),"no-caps":"",spread:"",outline:"","toggle-color":"primary",options:[{label:e.t("votesByPublic"),value:!1},{label:e.t("votesBySpecidic"),value:!0}]},null,8,["modelValue","options"]),(0,o.Wm)(R,{class:"q-mt-sm",modelValue:e.timeState,"onUpdate:modelValue":l[2]||(l[2]=l=>e.timeState=l),"no-caps":"",spread:"",outline:"","toggle-color":"primary",options:[{label:e.t("allVotes"),value:"all"},{label:e.t("activeVotes"),value:"active"},{label:e.t("runningVotes"),value:"running"}]},null,8,["modelValue","options"])]})),_:1})],512),[[n.F8,e.expandSettings]]),(0,o._)("div",m,[(0,o.Wm)(ee,{title:e.t("currentVotes"),rows:e.inRows,columns:e.inColumns,"row-key":e.rowKey,color:"amber",loading:e.loading,"no-data-label":e.historyByRecipient?e.t("hintHistoryUse"):e.t("hintNoPublicVote")},{top:(0,o.w5)((()=>[(0,o._)("div",v,[e.historyByRecipient?((0,o.wg)(),(0,o.j4)(Q,{key:0,modelValue:e.recipient,"onUpdate:modelValue":l[3]||(l[3]=l=>e.recipient=l),outlined:"",label:e.t("recipient"),dense:""},null,8,["modelValue","label"])):((0,o.wg)(),(0,o.iD)("div",g,(0,i.zw)(e.t("currentVotes")),1))]),(0,o._)("div",w,[(0,o._)("div",b,[(0,o.Wm)(I,{icon:"update",label:"In",loading:e.loading,outline:"",onClick:l[4]||(l[4]=l=>e.update()),disable:e.loading},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.t("update")),1)])),_:1})])),_:1},8,["loading","disable"])]),(0,o._)("div",y,[(0,o.Wm)(I,{icon:"bi-funnel",outline:"",onClick:l[5]||(l[5]=l=>e.expandSettings=!e.expandSettings)},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.t("openFilterSettings")),1)])),_:1})])),_:1})])])])),"header-cell":(0,o.w5)((e=>[(0,o.Wm)(O,{props:e,style:{"max-width":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.col.label),1)])),_:2},1032,["props"])])),body:(0,o.w5)((l=>[(0,o.Wm)(X,{props:l,class:(0,i.C_)(l.row.removed?e.brightStyle?"bg-grey":"bg-grey-10":"")},{default:(0,o.w5)((()=>[(0,o.Wm)(J,{key:"id",colspan:"5",props:l,style:{padding:"0"}},{default:(0,o.w5)((()=>[(0,o.Wm)(G,{class:(0,i.C_)(["full-width q-px-none q-py-none",e.videoSideBySide?"row":"column"])},{default:(0,o.w5)((()=>[(0,o.Wm)(K,{top:"",class:"col q-pt-sm"},{default:(0,o.w5)((()=>{var t;return[(0,o._)("div",{class:(0,i.C_)(["full-height",e.titleSideBySide?"row":"column reverse"])},[(0,o._)("div",h,[(0,o._)("div",f,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"col-grow q-pl-md",onClick:t=>e.onRowClick(l.row)},["string"===typeof(null===(t=l.row.public)||void 0===t?void 0:t.title)?((0,o.wg)(),(0,o.j4)(A,{key:0,class:(0,i.C_)(["shorten text-h6",e.videoSideBySide?"q-pb-sm":""])},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(l.row.public.title),1)])),_:2},1032,["class"])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.getOptions(l.row).slice(0,3),((t,n)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:n},[3==n&&(l.row.options.length>3||l.row.public&&l.row.public.options.length>3)?((0,o.wg)(),(0,o.iD)("div",S,[(0,o.Wm)($,{name:"more_vert"})])):((0,o.wg)(),(0,o.j4)(A,{key:1,class:(0,i.C_)(["shorten",0===n?"text-bold":""])},{default:(0,o.w5)((()=>[!1===isNaN(null===t||void 0===t?void 0:t.index)?((0,o.wg)(),(0,o.j4)($,{key:0,name:"bi-dot",color:e.VoteColor[t.index]},null,8,["color"])):(0,o.kq)("",!0),(0,o.Uk)((0,i.zw)(t&&"string"==typeof t.msg?0==t.msg.length?(e.videoSideBySide?e.t("selection")+" ":e.t("selection").substring(0,1)+". ")+(t.index+1).toString():t.msg:"-"),1)])),_:2},1032,["class"]))],64)))),128))],8,k)),[[se,()=>e.onRowTouchHold(l.row),void 0,{mouse:!0}]]),(0,o._)("div",{class:(0,i.C_)(["col-auto q-pl-sm text-grey row justify-between",e.videoSideBySide?"q-pb-sm"+(e.$q.screen.gt.sm?" q-pl-md":""):"text-right"])},[(0,o._)("div",{class:(0,i.C_)(["col-auto",e.videoSideBySide?"q-mt-sm":"q-mt-md q-mb-sm"])},[l.row.public?((0,o.wg)(),(0,o.j4)(L,{key:0,onShowResult:t=>e.onRowClick(l.row),loading:l.row.loading.openResult.value,poll:l.row,recipient:"object"===typeof l.row.public?l.row.public.holder:e.recipient},null,8,["onShowResult","loading","poll","recipient"])):(0,o.kq)("",!0)],2),(0,o._)("div",_,[(0,o._)("div",q,[(0,o.Uk)(" #"),l.row.public?((0,o.wg)(),(0,o.iD)("span",x,(0,i.zw)("object"==typeof l.row.public?l.row.public.index:l.row.public),1)):(0,o.kq)("",!0),(0,o.Uk)(" ["+(0,i.zw)(l.row.id.toString(16))+"] ",1)])])],2)])]),(0,o._)("div",{class:(0,i.C_)(["col-auto text-right q-mb-sm text-grey",e.titleSideBySide?"column":"row justify-between q-mx-sm"]),side:"",top:""},[(0,o._)("div",C,[(0,o.Wm)(E,{"model-value":new Date(1e3*Number(l.row.end)),timeOverMsg:e.t("timeOver"),short:""},null,8,["model-value","timeOverMsg"])]),(0,o._)("div",U,["object"===typeof l.row.public?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,i.zw)(e.AssetToString({amount:BigInt(l.row.public.sum.active),symbol:l.row.symbol})),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(l.row.sum.votes.active)+" 👍 "+(0,i.zw)(e.AssetToString({amount:BigInt(l.row.sum.amount.active),symbol:l.row.symbol})),1)],64))])],2)],2)]})),_:2},1024),"object"==typeof l.row.public?((0,o.wg)(),(0,o.j4)(K,{key:0,class:"col-auto",side:e.videoSideBySide,style:{margin:"0"}},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,i.C_)(e.videoSideBySide?"row":"column full-width")},[void 0!==e.active[l.row.public.index]?((0,o.wg)(),(0,o.j4)(Y,{key:0,class:(0,i.C_)(["col-auto",e.videoSideBySide?"":"fit"]),style:{padding:"0"},src:l.row.social.url.value,play:l.row.social.playing.value,"onUpdate:play":e=>l.row.social.playing.value=e,"full-width":!e.videoSideBySide},null,8,["class","src","play","onUpdate:play","full-width"])):(0,o.kq)("",!0),(0,o.Wm)(M,{class:(0,i.C_)([e.videoSideBySide?"q-pl-sm":"q-pt-none","col-auto"]),vertical:e.videoSideBySide,links:l.row.public.links,active:e.active[l.row.public.index],"onUpdate:active":t=>e.active[l.row.public.index]=t,selected:e.selected[l.row.public.index],"onUpdate:selected":t=>e.selected[l.row.public.index]=t,onOpen:t=>{e.openDialog=!0,e.dialogLink=l.row.public.links.at(t).url,e.dialogText=l.row.public.links.at(t).note}},null,8,["class","vertical","links","active","onUpdate:active","selected","onUpdate:selected","onOpen"])],2)])),_:2},1032,["side"])):(0,o.kq)("",!0)])),_:2},1032,["class"])])),_:2},1032,["props"])])),_:2},1032,["props","class"])])),"no-data":(0,o.w5)((({message:e})=>[(0,o._)("div",T,[(0,o._)("span",null,(0,i.zw)(e),1)])])),_:1},8,["title","rows","columns","row-key","loading","no-data-label"])])]),(0,o.Wm)(le,{modelValue:e.showSymbol,"onUpdate:modelValue":l[6]||(l[6]=l=>e.showSymbol=l),contract:e.tokenContract,"onUpdate:contract":l[7]||(l[7]=l=>e.tokenContract=l),symbol:e.symbol,"onUpdate:symbol":l[8]||(l[8]=l=>e.symbol=l),connect:e.connect,precision:e.precision,"onUpdate:precision":l[9]||(l[9]=l=>e.precision=l)},null,8,["modelValue","contract","symbol","connect","precision"]),(0,o.Wm)(ie,{modelValue:e.openDialog,"onUpdate:modelValue":l[11]||(l[11]=l=>e.openDialog=l)},{default:(0,o.w5)((()=>[(0,o.Wm)(F,null,{default:(0,o.w5)((()=>[(0,o.Wm)(te,{class:"items-center"},{default:(0,o.w5)((()=>[(0,o._)("div",W,(0,i.zw)("string"==typeof e.dialogText&&e.dialogText.length>0?e.dialogText:e.t("openNewTabRequest")),1),(0,o._)("div",H,(0,i.zw)(e.dialogLink),1)])),_:1}),(0,o.Wm)(oe,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(I,{flat:"",label:e.t("cancel"),color:"red"},null,8,["label"]),[[ce]]),(0,o.wy)((0,o.Wm)(I,{flat:"",label:e.t("open"),color:"primary",icon:"open_in_new",onClick:l[10]||(l[10]=l=>e.openURL(e.dialogLink))},null,8,["label"]),[[ce]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(ie,{modelValue:e.deleteDialog,"onUpdate:modelValue":l[12]||(l[12]=l=>e.deleteDialog=l)},{default:(0,o.w5)((()=>[(0,o.Wm)(F,null,{default:(0,o.w5)((()=>[(0,o.Wm)(te,{class:"items-center"},{default:(0,o.w5)((()=>{var l;return[(0,o._)("div",D,(0,i.zw)(e.t("delPubVote")),1),(null===(l=e.selectedPoll)||void 0===l?void 0:l.public)?((0,o.wg)(),(0,o.iD)("div",V,["object"==typeof e.selectedPoll.public?((0,o.wg)(),(0,o.iD)("div",j,[(0,o.Uk)(" #"),(0,o._)("span",null,(0,i.zw)(e.selectedPoll.public.index),1),(0,o.Uk)(" ["+(0,i.zw)(e.selectedPoll.id.toString(16))+"]: ",1),(0,o._)("span",null,(0,i.zw)(e.selectedPoll.public.title),1)])):((0,o.wg)(),(0,o.iD)("div",B,[(0,o.Uk)(" #"),(0,o._)("span",null,(0,i.zw)(e.selectedPoll.public),1),(0,o.Uk)(" ["+(0,i.zw)(e.selectedPoll.id.toString(16))+"]: ",1),Z]))])):(0,o.kq)("",!0)]})),_:1}),(0,o.Wm)(te,{class:"row justify-between"},{default:(0,o.w5)((()=>[(0,o.Wm)(ne,{class:"col q-pr-md"}),e.walletStyle?(0,o.wy)(((0,o.wg)(),(0,o.j4)(I,{key:0,class:"col-12 col-sm-auto q-mt-md",label:e.t("delete"),"icon-right":"send",color:"blue",onClick:e.confirmDeletion},null,8,["label","onClick"])),[[ce]]):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(oe,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(I,{flat:"",label:e.t("cancel"),color:"red"},null,8,["label"]),[[ce]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var z=t(14889),I=t(28045),R=t(22759),F=t(72902),Q=t(37862),N=t(78742),O=t(34594),A=t(60499),$=t(27712),L=t(6827),E=t(19302),K=t(62659),Y=t(94345),M=t(65211),G=t(53103),J=t(28339),X=t(10818),ee=t(3390),le=t(47983),te=t(86350),oe=t(5980),ie=t(8411),ne=t(72354),ae=t(48837),se=t(79378),ce=t(17779),ue=function(e,l,t,o){function i(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,n){function a(e){try{c(o.next(e))}catch(l){n(l)}}function s(e){try{c(o["throw"](e))}catch(l){n(l)}}function c(e){e.done?t(e.value):i(e.value).then(a,s)}c((o=o.apply(e,l||[])).next())}))};const re=(0,o.aZ)({name:"page-list-polls",components:{KeyOrNameInput:z["default"],RemainingTime:R["default"],SymbolDialog:F["default"],SocialChannels:Q["default"],StreamEmbed:N["default"],WalletEosio:I["default"],VoteButtons:O["default"]},setup(){var e,l,t,i,n,a;const s=(0,ee.b)(),c=(0,K.r)(),u=(0,E.Z)(),r=(0,$.QT)({useScope:"global"}).t.bind(this),d=(0,A.iH)(),p=(0,J.tv)(),m=(0,J.yj)(),v=m.query,g=(0,o.Fl)((()=>c.selectedConnect));(0,o.YP)((()=>g.value),(()=>{V(),Ue()}));const w=(0,A.iH)(!1),b=(0,o.Fl)((()=>{var e;return null===(e=c.selectedConnect)||void 0===e?void 0:e.chainParams}));(0,oe.iniSelectedChain)(v.chain,void 0==b.value?D:void 0);const y=(0,A.iH)(!1),h=(0,A.iH)(!1),f=(0,A.iH)(!1),k=(0,A.iH)([0,0]),S=(0,A.iH)(!1),_=(0,A.iH)((null===(l=null===(e=b.value)||void 0===e?void 0:e.systemToken)||void 0===l?void 0:l.contract)?b.value.systemToken.contract:"eosio.token"),q=(0,A.iH)((null===(i=null===(t=b.value)||void 0===t?void 0:t.systemToken)||void 0===i?void 0:i.symbol)?b.value.systemToken.symbol:"EOS"),x=(0,A.iH)((null===(a=null===(n=b.value)||void 0===n?void 0:n.systemToken)||void 0===a?void 0:a.precision)?b.value.systemToken.precision:4),C=(0,A.iH)(!1),U=(0,A.iH)(""),T=(0,A.iH)(""),W=(0,o.Fl)((()=>c.walletUser)),H=(0,o.Fl)((()=>c.getWalletStyle));if(v.token){const e=v.token.split(",");switch(e.length){case 3:_.value=e[2];case 2:x.value=Number(e[0]),q.value=e[1];break;case 1:q.value=e[0];break;default:ce.log("Wrong symbol query")}}function D(){ce.log("Go back"),history.length>2?p.back():p.push({name:"vote"})}function V(){if(m.fullPath.length>1){const e=b.value?b.value.shortName?g.value.chainParams.shortName:b.value.chainId:void 0;B.value&&Z.value.length>0?p.replace({query:{to:Z.value,chain:e}}):p.replace({query:{chain:e}})}}void 0!=v.to&&v.to.length>0&&(v.to.length<=13&&(0,Y.isNameValid)(v.to)?c.setHistoryUserInput(v.to.toLowerCase()):M.b.isValidPublic(v.to)&&c.setHistoryUserInput(v.to));const j=(0,A.iH)(!1),B=(0,o.Fl)({get:()=>j.value,set:e=>{N.breakUpdate(),j.value=e,V()}}),Z=(0,o.Fl)({get:()=>c.historyUserInput.length>13?G.PublicKey.fromString(c.historyUserInput).toString():c.historyUserInput,set:e=>{c.setHistoryUserInput(e),e.length>0&&(m.fullPath.length>1&&B.value&&p.replace({query:{to:e}}),O())}}),P=(0,o.Fl)((()=>s.brightStyle)),z=(0,A.iH)(!1),I=(0,A.iH)(!1),R=(0,A.iH)(-1),F=(0,A.iH)(!1),Q=(0,o.Fl)((()=>z.value||F.value)),N=new ie.TrxUpdater;function O(){return ue(this,void 0,void 0,(function*(){0!=Z.value.length?z.value||(z.value=!0,yield N.updateAllIncomings(Z.value,g.value),z.value=!1):L.Z.create({type:"negative",message:r("noRecipientDefined"),caption:r("enterUserFirst"),position:"top"})}))}function re(){return ue(this,void 0,void 0,(function*(){F.value||(F.value=!0,yield N.updatePublicVotes(g.value),F.value=!1)}))}const de=(0,o.Fl)((()=>[{name:"index",align:"left",label:"#",field:"index",sort:(e,l)=>{var t,o;return(null===(t=e.public)||void 0===t?void 0:t.index)-(null===(o=l.public)||void 0===o?void 0:o.index)},sortable:!0},{name:"id",align:"left",label:"[id]",field:"id",sortable:!0},{name:"end",align:"left",label:"🕔",field:"end",sortable:!0},{name:"fund",align:"left",label:"💲",field:"amount",sort:(e,l)=>(e.public?e.public.sum.active:e.amount.active)-(l.public?l.public.sum.active:l.amount.active),sortable:!0},{name:"votes",align:"left",label:"👥",field:"votes",sort:(e,l)=>e.votes.active-l.votes.active,sortable:!0}])),pe=(0,o.Fl)((()=>{var e;return B.value?null===(e=c.user[Z.value])||void 0===e?void 0:e.polls:Array.from(c.pubPolls).sort(((e,l)=>l[0]-e[0])).map((e=>e[1])).flat()}));function me(e){return e.contract==_.value&&e.symbol.name==q.value&&e.symbol.precision==x.value&&(e.chain==g.value.chainParams.shortName||e.chain==g.value.chainParams.chainId)}const ve=(0,A.iH)("all"),ge=(0,o.Fl)((()=>{if(void 0===pe.value)return[];switch(ve.value){case"running":return pe.value.filter((e=>e.end>Date.now()/1e3&&me(e)));case"active":return pe.value.filter((e=>"object"===typeof e.public&&e.public.limit>Date.now()/1e3&&me(e)));default:return pe.value.filter((e=>me(e)))}})),we=(0,A.qj)({}),be=(0,A.qj)({}),ye=(0,o.Fl)((()=>ge.value.map((e=>Object.assign(Object.assign({},e),{loading:{openResult:(0,A.iH)(!1)},social:{playing:(0,A.iH)(!1),url:(0,o.Fl)((()=>{var l;if("object"===typeof e.public&&be[e.public.index]>=0)return null===(l=e.public)||void 0===l?void 0:l.links[be[e.public.index]].url}))}}))))),he=(0,A.iH)(!1);function fe(e){var l;return ue(this,void 0,void 0,(function*(){if(he.value)return;let t;he.value=!0,e.loading.openResult.value=!0,"object"===typeof e.public?(z.value=!0,t=e.public.holder,ce.log("Update all incommings of",t),yield N.updateAllIncomings(t,g.value),z.value=!1):t=Z.value;let o=null===(l=c.user[t])||void 0===l?void 0:l.inHistory.find((l=>{if(l.chain==e.chain&&l.contract==e.contract){const o=(0,Y.StringToAsset)(l.fund);if(o&&o.symbol.name==e.symbol.name&&o.symbol.precision==e.symbol.precision)try{const t=(0,le.getVoteDataFromMemo)(l.memo,l.type);return t.end==e.end&&t.id==e.id&&t.total==e.options.length}catch(t){ce.log("Error on converting vote data from memo",t)}}return!1}));if(o){let l={to:t,id:null===o||void 0===o?void 0:o.id,chain:e.chain};p.push({name:"vote-result",query:l})}else L.Z.create({type:"negative",message:r("noTrxFound"),position:"top"});he.value=!1,e.loading.openResult.value=!1}))}const ke=(0,A.iH)(void 0);function Se(){var e,l;"object"===typeof(null===(e=ke.value)||void 0===e?void 0:e.public)&&void 0!==(null===(l=W.value)||void 0===l?void 0:l.name)&&(ce.log("Confirm deletion",ke.value.public.index),He(ke.value.public.index,W.value.name))}const _e=(0,A.iH)(!1);function qe(e){ke.value=e,ce.log("Touch hold",e),_e.value=!0}function xe(e){return`${e.id} ${e.end} ${e.symbol.name} ${e.symbol.precision} ${e.contract} ${e.type}${"object"===typeof e.public?` ${e.public.index} ${e.public.limit}`:"number"===typeof e.public?e.public:""}`}function Ce(e){return new Date(1e3*e)}function Ue(){B.value?Z.value.length>0&&O():re()}function Te(e,l){ce.log(l),L.Z.create({type:"positive",message:"Test",caption:e.toString(),position:"top"})}function We(e){e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e),window.open(e,"_blank")}function He(e,l){return ue(this,void 0,void 0,(function*(){if(!g.value||!b.value||"string"!=typeof b.value.savpayContract)return;if(!c.walletUser){L.Z.create({message:r("errSelectWallet"),position:"top"});const e={chainId:b.value.chainId,show:!0};return void c.setWalletDialog(e)}const t=[{actor:l,permission:c.walletUser.permission?c.walletUser.permission:"active"}],o={actions:[{account:b.value.savpayContract,name:"removevote",authorization:t,data:{ramBy:l,index:e}}]},i=L.Z.create({type:"ongoing",message:r("signTrx"),position:"top"}),n={isError:!1,notify:i},a=yield oe.Connect.trySigning(n,c.walletUser,o,{broadcast:!1});return!!(0,ne.trxSigningErrorHandling)(n,a,r)&&(!!(yield(0,ne.broadcastTrx)(n,g.value,a,r))&&(setTimeout(Ue,5e3),!0))}))}return(0,o.bv)((()=>{B.value=void 0!=v.to&&v.to.length>0,Ue()})),{t:r,chain:b,brightStyle:P,moreAvailable:I,lastSearchId:R,update:Ue,loading:Q,eosioStore:c,showWalletDialog:c.showWalletDialog,inRows:ye,inColumns:de,shortAddress:Y.shortAddress,shortenText:Y.shortenText,onRowClick:fe,rowKey:xe,colorStatus:X.colorStatus,showSymbol:S,connect:g,tokenContract:_,symbol:q,precision:x,switchCount:y,graphUpdateKey:k,VoteColor:le.VoteColor,isVoteOver:h,infoDialog:f,shrinkText:te.shrinkText,recipient:Z,AssetToString:Y.AssetToString,getDateFromEndTime:Ce,historyByRecipient:B,timeState:ve,getOptions:se.getOptions,showTest:Te,expandSettings:w,openDialog:C,dialogLink:T,dialogText:U,openURL:We,titleSideBySide:(0,o.Fl)((()=>u.screen.gt.sm&&!w.value)),videoSideBySide:(0,o.Fl)((()=>u.screen.gt.xs&&!w.value)),active:be,selected:we,onRowTouchHold:qe,walletStyle:H,selectedPoll:ke,confirmDeletion:Se,deleteDialog:_e,copyQrImage:ae.copyQrImage,qrCodeDiv:d}}});var de=t(11639),pe=t(69885),me=t(44458),ve=t(68879),ge=t(1389),we=t(31746),be=t(46858),ye=t(21682),he=t(31233),fe=t(67220),ke=t(490),Se=t(76749),_e=t(33115),qe=t(22857),xe=t(32074),Ce=t(63190),Ue=t(11821),Te=t(91600),We=t(62146),He=t(69984),De=t.n(He);const Ve=(0,de.Z)(re,[["render",P],["__scopeId","data-v-5619c20b"]]),je=Ve;De()(re,"components",{QPage:pe.Z,QCard:me.Z,QBtn:ve.Z,QBtnToggle:ge.Z,QTable:we.Z,QTooltip:be.Z,QTh:ye.Z,QTr:he.Z,QTd:fe.Z,QItem:ke.Z,QItemSection:Se.Z,QItemLabel:_e.Z,QIcon:qe.Z,QDialog:xe.Z,QCardSection:Ce.Z,QCardActions:Ue.Z}),De()(re,"directives",{TouchHold:Te.Z,ClosePopup:We.Z})}}]);