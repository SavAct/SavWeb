"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[836],{11836:(e,n,t)=>{t.r(n),t.d(n,{default:()=>O});var a=t(59835);const o=(0,a._)("div",{class:"row justify-between"},[(0,a._)("div",{class:"text-h4 q-pt-md"},"Advanced settings for authorities")],-1),l={class:"q-mx-md q-mxt-md row justify-between"};function r(e,n,t,r,i,d){const u=(0,a.up)("q-select"),c=(0,a.up)("q-input"),s=(0,a.up)("wallet-eosio"),p=(0,a.up)("action-input"),m=(0,a.up)("q-separator"),h=(0,a.up)("wallet-eth"),g=(0,a.up)("q-scroll-area"),I=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(I,{class:"column fit"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"q-px-md",style:{height:"calc(100vh - 122px)"}},{default:(0,a.w5)((()=>{var t;return[o,(0,a._)("div",l,[(0,a.Wm)(u,{class:"col-12 col-sm-5",modelValue:e.selectedConnect,"onUpdate:modelValue":n[0]||(n[0]=n=>e.selectedConnect=n),options:e.chainOptions,"display-value":null===(t=e.selectedConnect)||void 0===t?void 0:t.chainParams.name,"emit-value":"",label:"Selected chain"},null,8,["modelValue","options","display-value"]),(0,a.Wm)(c,{class:"col-12 col-sm-6",label:"EOSIO Teleport Contract",modelValue:e.contractInput,"onUpdate:modelValue":n[1]||(n[1]=n=>e.contractInput=n),maxlength:"12"},null,8,["modelValue"])]),(0,a.Wm)(s,{class:"q-ma-md q-px-md"}),(0,a.Wm)(p,{name:"withdraw",modelValue:e.withdrawInputs,"onUpdate:modelValue":n[2]||(n[2]=n=>e.withdrawInputs=n),label:"Withdraw",caption:"Withdraw remaining amounts on the contract",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"ini",modelValue:e.iniInputs,"onUpdate:modelValue":n[3]||(n[3]=n=>e.iniInputs=n),label:"Initialization",caption:"First transaction after deployment of the contract",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"addchain",modelValue:e.addchainInputs_v2,"onUpdate:modelValue":n[4]||(n[4]=n=>e.addchainInputs_v2=n),label:"Add chain v2",caption:"Add a new bridge to another chain",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"addchain",modelValue:e.addchainInputs_v1,"onUpdate:modelValue":n[5]||(n[5]=n=>e.addchainInputs_v1=n),label:"Add chain v1",caption:"Add a new bridge to another chain",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"rmchain",modelValue:e.rmchainInputs,"onUpdate:modelValue":n[6]||(n[6]=n=>e.rmchainInputs=n),label:"Remove chain",caption:"Remove the bridge to a chain",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"setmin",modelValue:e.setminInputs,"onUpdate:modelValue":n[7]||(n[7]=n=>e.setminInputs=n),label:"Set minimum amount",caption:"Adjust the minimum asset amount for teleports",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"setfee",modelValue:e.setfeeInputs,"onUpdate:modelValue":n[8]||(n[8]=n=>e.setfeeInputs=n),label:"Set fees",caption:"Adjust the fix and variable fee",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"setthreshold",modelValue:e.setthresholdInputs,"onUpdate:modelValue":n[9]||(n[9]=n=>e.setthresholdInputs=n),label:"Threshold",caption:"Adjust the minimum needed amount of approvals by oracles",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"freeze",modelValue:e.freezeInputs,"onUpdate:modelValue":n[10]||(n[10]=n=>e.freezeInputs=n),label:"Freeze",caption:"Freeze parts of the contract",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"regoracle",modelValue:e.regoracleInputs,"onUpdate:modelValue":n[11]||(n[11]=n=>e.regoracleInputs=n),label:"Register oracle",caption:"Add a new oracle",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"payoracles",label:"Pay off oracles",caption:"Pay off all collected fees to the oracles",onSend:e.send,group:"aGroup"},null,8,["onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"unregoracle",modelValue:e.unregoracle,"onUpdate:modelValue":n[12]||(n[12]=n=>e.unregoracle=n),label:"Unregister oracle",caption:"Remove an oracle",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"delteles",modelValue:e.deltelesInputs,"onUpdate:modelValue":n[13]||(n[13]=n=>e.deltelesInputs=n),label:"Delete teleports",caption:"Delete finished and canceled teleports to free EOSIO RAM",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"delreceipts",modelValue:e.delreceiptsInputs,"onUpdate:modelValue":n[14]||(n[14]=n=>e.delreceiptsInputs=n),label:"Delete receipts",caption:"Delete receipt teleports to free EOSIO RAM. Attention: Contracts below of v2 could break after execution of this transaction.",icon:"warning",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"repairrec",modelValue:e.repairrecInputs,"onUpdate:modelValue":n[15]||(n[15]=n=>e.repairrecInputs=n),label:"Repair record",caption:"Adjust a receipts teleport record",onSend:e.send,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(h,{class:"q-ma-md q-px-md",onAccount:n[16]||(n[16]=n=>e.ethAccount=n),chainId:e.ethChainId,"onUpdate:chainId":n[17]||(n[17]=n=>e.ethChainId=n)},null,8,["chainId"]),(0,a.Wm)(c,{class:"col-12 col-sm-6",label:"ETH Teleport Contract",modelValue:e.ethContractInput,"onUpdate:modelValue":n[18]||(n[18]=n=>e.ethContractInput=n)},null,8,["modelValue"]),(0,a.Wm)(p,{name:"setthreshold",modelValue:e.eth_setthresholdInputs,"onUpdate:modelValue":n[19]||(n[19]=n=>e.eth_setthresholdInputs=n),label:"Threshold on ETH",caption:"Adjust the minimum needed amount of approvals by oracles",onSend:e.sendEthUpdateThreshold,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"regoracle",modelValue:e.eth_regoracleInputs,"onUpdate:modelValue":n[20]||(n[20]=n=>e.eth_regoracleInputs=n),label:"Register oracle on ETH",caption:"Add a new oracle",onSend:e.sendEthRegOracle,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"unregoracle",modelValue:e.eth_unregoracleInputs,"onUpdate:modelValue":n[21]||(n[21]=n=>e.eth_unregoracleInputs=n),label:"Unregister oracle on ETH",caption:"Remove an oracle",onSend:e.sendEthUnOracle,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"transferOwnership",modelValue:e.eth_transferOwnershipInputs,"onUpdate:modelValue":n[22]||(n[22]=n=>e.eth_transferOwnershipInputs=n),label:"Transfer ownership",caption:"Set a new owner of the contract",onSend:e.sendEthTransferOwnership,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"acceptOwnership",label:"Accept ownership",caption:"Accept the ownership",onSend:e.sendEthAcceptOwnership,group:"aGroup"},null,8,["onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"addchain",modelValue:e.eth_addchainInputs,"onUpdate:modelValue":n[23]||(n[23]=n=>e.eth_addchainInputs=n),label:"Add chain on ETH (only on v2)",caption:"Add chain",onSend:e.sendEthAddChain,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"rmchain",modelValue:e.eth_rmchainInputs,"onUpdate:modelValue":n[24]||(n[24]=n=>e.eth_rmchainInputs=n),label:"Remove chain on ETH (only on v2)",caption:"Remove chain",onSend:e.sendEthRmChain,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"updateChainId",modelValue:e.eth_updateChainIdInputs,"onUpdate:modelValue":n[25]||(n[25]=n=>e.eth_updateChainIdInputs=n),label:"Update chain id on ETH (only on v2)",caption:"Update the chain id of the ETH contract",onSend:e.sendEthUpdateChainId,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"freeze",modelValue:e.eth_freezeInputs,"onUpdate:modelValue":n[26]||(n[26]=n=>e.eth_freezeInputs=n),label:"Freeze on ETH (only on v2)",caption:"Freeze specific parts of the contract",onSend:e.sendEthFreeze,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m),(0,a.Wm)(p,{name:"setmin",modelValue:e.eth_setminInputs,"onUpdate:modelValue":n[27]||(n[27]=n=>e.eth_setminInputs=n),label:"Set minimum amount on ETH (only on v2)",caption:"Adjust the minimum asset amount for teleports",onSend:e.sendEthSetMin,group:"aGroup"},null,8,["modelValue","onSend"]),(0,a.Wm)(m)]})),_:1})])),_:1})}var i=t(6827),d=t(5980),u=t(60499),c=t(28339),s=t(27712),p=t(28045),m=t(90799),h=t(40387),g=t(72354),I=t(74544),v=t(86350),f=t(62659),S=t(17779),V=function(e,n,t,a){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,l){function r(e){try{d(a.next(e))}catch(n){l(n)}}function i(e){try{d(a["throw"](e))}catch(n){l(n)}}function d(e){e.done?t(e.value):o(e.value).then(r,i)}d((a=a.apply(e,n||[])).next())}))};const w=(0,a.aZ)({name:"page-setup-teleport",components:{WalletEosio:p["default"],WalletEth:m["default"],ActionInput:h["default"]},setup(){const e=(0,f.r)(),n=(0,s.QT)({useScope:"global"}).t.bind(this),t=(0,a.Fl)({get:()=>e.selectedConnect,set:n=>e.setSelectedConnect(n)}),o=(0,a.Fl)((()=>e.walletUser)),l=(0,c.yj)().query,r=(0,u.iH)(l.eosio?String(l.eosio):""),p=(0,u.iH)(l.eth?String(l.eth):""),m=(0,u.iH)(),h=(0,u.iH)(),w=(0,u.iH)({min:"0.0000 SAVACT",fixfee:"0.0000 SAVACT",varfee:0,freeze:!1,threshold:0,chain_id:0}),y=(0,u.iH)({name:"Binance Smart Chain",abbreviation:"BSC",chain_id:1,net_id:"56",teleaddr:"0x",tokenaddr:"0x"}),W=(0,u.iH)({name:"Binance Smart Chain",abbreviation:"BSC",chain_id:1,net_id:"56",teleaddr:"0x",tokenaddr:"0x",completed_index:BigInt(0)}),E=(0,u.iH)({chain_id:0}),_=(0,u.iH)({fixfee:"0.0000 SAVACT",varfee:0}),C=(0,u.iH)({min:"0.0000 SAVACT"}),b=(0,u.iH)({threshold:0}),A=(0,u.iH)({in:!1,out:!1,oracles:!1,cancel:!1}),U=(0,u.iH)({to_date:new Date(Date.now())}),H=(0,u.iH)({to_id:BigInt(0)}),O=(0,u.iH)({id:BigInt(0),quantity:"0.0000 SAVACT",approvers:'["myoracle1", "myoracle2"]',completed:!1}),T=(0,u.iH)({oracle_name:"myoacle"}),x=(0,u.iH)({oracle_name:"myoacle"}),G=(0,u.iH)({from:"myaccount",quantity:"0.0000 SAVACT"}),z=(0,u.iH)({newThreshold:0}),Z=(0,u.iH)({_newOracle:"0x"}),q=(0,u.iH)({_rmOracle:"0x"}),R=(0,u.iH)({_newOwner:"0x"}),j=(0,u.iH)({netId:"0x",contract_name:"",chainId:0,telIndex:BigInt(0)}),F=(0,u.iH)({netId:"0x"}),B=(0,u.iH)({freezteleport:!1,freezeclaim:!1,freezetransfer:!1}),k=(0,u.iH)({newChainId:1}),P=(0,u.iH)({min:BigInt(0)}),D=(0,a.Fl)((()=>e.allConnects.map((e=>({label:e.chainParams.name,value:e})))));function Q(e,a){var l;return V(this,void 0,void 0,(function*(){if(r.value||i.Z.create({type:"negative",message:"No contract defined",caption:"Please enter a EOSIO contract address",position:"top"}),!o.value||!o.value.name||!t.value)return S.log("walletUser",o),S.log("walletUser.name",null===(l=o.value)||void 0===l?void 0:l.name),S.log("selectedConnect",t),void i.Z.create({type:"negative",message:"Invalid data",caption:"Please check the connection and the selected user",position:"top"});S.log("actionName",e),S.log("actionData",a);const u=[{actor:o.value.name,permission:"active"}],c=[{account:r.value,name:e,authorization:u,data:a||{}}],s={isError:!1},p=yield d.Connect.trySigning(s,o.value,{actions:c},{broadcast:!1});(0,g.trxSigningErrorHandling)(s,p,n)&&(yield(0,g.broadcastTrx)(s,t.value,p,n))}))}function M(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.setMin(String(n.min))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function N(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,1);try{yield e.updateThreshold(String(n.newThreshold))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function J(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,1);try{yield e.regOracle(String(n._newOracle))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function K(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,1);try{yield e.unregOracle(String(n._rmOracle))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function L(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.addChain("x"==n.netId.charAt(1)?n.netId:"0x"+n.netId,String((0,v.NameToUint64)(n.contract_name)),String(n.chainId),String(n.telIndex))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function X(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.rmChain("x"==n.netId.charAt(1)?n.netId:"0x"+n.netId)}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function Y(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.freeze(n.freezeclaim,n.freezteleport,n.freezetransfer)}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function $(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.updateChainId(String(n.newChainId))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function ee(e,n){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.transferOwnership(String(n._newOwner))}catch(t){S.log(t),i.Z.create({type:"negative",message:"Error on sending",caption:String(t),position:"top"})}}))}function ne(){return V(this,void 0,void 0,(function*(){const e=(0,I.getEthContract)(p.value,window.ethereum,2);try{yield e.acceptOwnership()}catch(n){S.log(n),i.Z.create({type:"negative",message:"Error on sending",caption:String(n),position:"top"})}}))}return{chainOptions:D,selectedConnect:t,contractInput:r,iniInputs:w,addchainInputs_v1:y,addchainInputs_v2:W,rmchainInputs:E,setfeeInputs:_,setminInputs:C,setthresholdInputs:b,freezeInputs:A,delreceiptsInputs:U,deltelesInputs:H,repairrecInputs:O,regoracleInputs:T,unregoracle:x,withdrawInputs:G,send:Q,sendEthSetMin:M,sendEthUpdateThreshold:N,sendEthRegOracle:J,sendEthUnOracle:K,sendEthAddChain:L,sendEthRmChain:X,sendEthFreeze:Y,sendEthUpdateChainId:$,sendEthTransferOwnership:ee,sendEthAcceptOwnership:ne,ethAccount:m,ethChainId:h,ethContractInput:p,eth_setthresholdInputs:z,eth_regoracleInputs:Z,eth_unregoracleInputs:q,eth_addchainInputs:j,eth_rmchainInputs:F,eth_freezeInputs:B,eth_updateChainIdInputs:k,eth_setminInputs:P,eth_transferOwnershipInputs:R,t:n}}});var y=t(11639),W=t(69885),E=t(66663),_=t(26384),C=t(13119),b=t(50926),A=t(69984),U=t.n(A);const H=(0,y.Z)(w,[["render",r]]),O=H;U()(w,"components",{QPage:W.Z,QScrollArea:E.Z,QSelect:_.Z,QInput:C.Z,QSeparator:b.Z})}}]);