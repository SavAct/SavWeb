"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[869],{18869:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(59835),o=n(61957),l=n(86970);const i={class:"q-mb-md"},u=(0,a._)("div",{class:"q-my-md"},"Enter your public key",-1),r={class:"q-mt-sm justify-end row"},s={class:"q-mb-md"},c={class:"q-my-sm"},d=(0,a._)("div",{class:"q-mt-sm"},"Any amount beyond the network fee will be automatically credited to your account!",-1);function m(e,t,n,m,p,h){const v=(0,a.up)("q-btn"),y=(0,a.up)("q-icon"),f=(0,a.up)("q-input"),w=(0,a.up)("new-keypair-dialog"),b=(0,a.up)("q-stepper-navigation"),g=(0,a.up)("q-step"),k=(0,a.up)("q-spinner"),W=(0,a.up)("q-stepper"),C=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(C,{class:"column",style:{height:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{modelValue:e.step,"onUpdate:modelValue":t[7]||(t[7]=t=>e.step=t),vertical:"",color:"primary",animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{name:1,title:"Account daten",icon:"settings",done:e.step>1},{default:(0,a.w5)((()=>{var n;return[(0,a._)("div",i,[(0,a.Uk)("Wähle einen Account-Namen auf dem "),(0,a.Wm)(v,{class:"col-auto q-ml-sm q-px-sm",dense:"",label:`${null===(n=e.chain)||void 0===n?void 0:n.name} ${e.t("network")}`,onClick:e.showWalletDialog,outline:""},null,8,["label","onClick"])]),((0,a.wg)(),(0,a.j4)(f,{key:e.compConnectChainId,ref:"inputRef",outlined:"",rules:[e.ruleName],modelValue:e.user,"onUpdate:modelValue":t[0]||(t[0]=t=>e.user=t),"bottom-slots":"",label:"Whished user account name",dense:"",borderless:"","hide-bottom-space":"",maxlength:"12"},{before:(0,a.w5)((()=>[(0,a.Wm)(y,{name:"account_circle"})])),_:1},8,["rules","modelValue"])),u,((0,a.wg)(),(0,a.j4)(f,{key:e.compConnectChainId,ref:"inputRef",outlined:"",rules:[e.ruleKey],modelValue:e.pubKey,"onUpdate:modelValue":t[1]||(t[1]=t=>e.pubKey=t),"bottom-slots":"",label:"Your public key",dense:"",borderless:"","hide-bottom-space":""},{before:(0,a.w5)((()=>[(0,a.Wm)(y,{name:"account_circle"})])),_:1},8,["rules","modelValue"])),(0,a._)("div",r,[(0,a.Wm)(v,{outline:"",onClick:t[2]||(t[2]=t=>e.showKeyPairDialog=!0),label:e.t("createKeyBtn"),size:"sm"},null,8,["label"])]),(0,a.Wm)(w,{modelValue:e.showKeyPairDialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showKeyPairDialog=t),onPubkey:e.newPubKey},null,8,["modelValue","onPubkey"]),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{onClick:e.checkStep1,color:"primary",label:"Continue"},null,8,["onClick"])])),_:1})]})),_:1},8,["done"]),(0,a.Wm)(g,{name:2,title:"Zahlung tätigen",icon:"create_new_folder",done:e.step>2},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a._)("div",c,[(0,a.Uk)(" Please send "),(0,a.wy)((0,a._)("span",null,[(0,a.Wm)(k),(0,a.Uk)(" ")],512),[[o.F8,e.loadingAmount]]),(0,a.Uk)((0,l.zw)(e.recQuantity)+" or more ",1)]),(0,a.Uk)(" to be prepared if the network fee changes in the meantime. "),d]),(0,a.Wm)(v,{onClick:e.getRAMCosts,icon:"update",round:"",class:"q-mr-md"},null,8,["onClick"]),(0,a.Wm)(v,{to:{name:"send",query:{to:e.acc_create_contract,pay:e.recQuantity,memo:e.memo}},label:"Send payment",outline:""},null,8,["to"]),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{onClick:t[4]||(t[4]=t=>e.step=3),color:"primary",label:"Continue"}),(0,a.Wm)(v,{flat:"",onClick:t[5]||(t[5]=t=>e.step=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,a.Wm)(g,{name:3,title:"Wallet verbinden",icon:"add_comment"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Try out different ad text to see what brings in the most customers, and learn how to enhance your ads using features like ad extensions. If you run into any problems with your ads, find out how to tell if they're running and how to resolve approval issues. "),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{color:"primary",label:"Finish"}),(0,a.Wm)(v,{flat:"",onClick:t[6]||(t[6]=t=>e.step=2),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var p=n(93498),h=n(6827),v=n(94345),y=n(62659),f=n(60499),w=n(27712),b=n(65211),g=n(74544),k=function(e,t,n,a){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,l){function i(e){try{r(a.next(e))}catch(t){l(t)}}function u(e){try{r(a["throw"](e))}catch(t){l(t)}}function r(e){e.done?n(e.value):o(e.value).then(i,u)}r((a=a.apply(e,t||[])).next())}))};const W=(0,a.aZ)({name:"page-create-account",components:{NewKeypairDialog:p["default"]},setup(){const e=(0,w.QT)({useScope:"global"}).t.bind(this),t=(0,y.r)(),n=(0,a.Fl)((()=>t.getWalletStyle)),o=(0,f.iH)(1),l=(0,f.iH)(""),i=(0,f.iH)(""),u=(0,f.iH)(!1),r=(0,f.iH)(!1),s=(0,f.iH)(null),c=(0,f.iH)(""),d=(0,f.iH)("savactcreate"),m=(0,a.Fl)((()=>{if(C.value){const e=(0,v.StringToAsset)(C.value);if(e)return e.amount+=e.amount,(0,v.AssetToString)(e)}return""}));function p(){return k(this,void 0,void 0,(function*(){l.value=l.value.toLowerCase(),l.value=l.value.replace(/\s/g,"");const e=yield Z(l.value);if(!0!==e){const t="string"!==typeof e?"Could not verify the name":e;return void h.Z.create({type:"negative",message:t,position:"top"})}i.value=i.value.trim();const t=A(i.value);if(!0===t)o.value=2,W();else{const e=!1===t?"Could not verify the public key":t;h.Z.create({type:"negative",message:e,position:"top"})}}))}function W(){return k(this,void 0,void 0,(function*(){if(!u.value){u.value=!0;const e=yield S.value.GetRAMCosts(BigInt(4e3));C.value="string"==typeof e?e:"",u.value=!1}}))}const C=(0,f.iH)(""),_=(0,a.Fl)((()=>`${i.value}-${l.value}`)),q=(0,a.Fl)((()=>!0)),P=(0,a.Fl)((()=>{var e;return null===(e=t.selectedConnect)||void 0===e?void 0:e.chainParams})),S=(0,a.Fl)((()=>t.selectedConnect)),V=(0,a.Fl)((()=>{var e;return null===(e=P.value)||void 0===e?void 0:e.chainId}));(0,a.YP)(V,(()=>{s.value&&s.value.validate()}));let K=0;function Z(e,t=!1){var n;return k(this,void 0,void 0,(function*(){if(t){K++;let e=K;if(yield(0,g.sleep)(1e3),e!=K)return}if(12!=e.length)return"The account has to be 12 characters long";if(!(0,v.isNameValid)(e))return"0123456789".indexOf(e[0])>=0?"The name is not allowed to start with a number":"The entered name contains forbidden chars. Use only a-z and 0-5";if(!e.indexOf("."))return"You cannot create an account with an dot";const a=yield null===(n=S.value)||void 0===n?void 0:n.checkAccountName(e);return!1===a||(!0===a?"Account already exists":"Error while checking the account name on the network")}))}function A(t){let n=!1;if(t.length<=58){if(!t.startsWith("EOS")&&!t.startsWith("PUB_K1_"))return e("pupStartsWith");if(!b.b.isValidPublic(t))return e("invalidPub");n=!0}return n}const Q=e=>new Promise((t=>{t(A(e))})),U=e=>new Promise((t=>k(this,void 0,void 0,(function*(){e=e.toLowerCase(),e=e.replace(/\s/g,"");const n=yield Z(e,!0);t(void 0===n||n)}))));function x(e){i.value=String(e)}return{t:e,step:o,chain:P,user:l,pubKey:i,ruleName:U,newPubKey:x,showKeyPairDialog:r,compConnectChainId:V,pay_method:c,acc_create_contract:d,inputsValid:q,memo:_,quantity:C,walletStyle:n,showWalletDialog:t.showWalletDialog,checkStep1:p,ruleKey:Q,getRAMCosts:W,recQuantity:m,loadingAmount:u}}});var C=n(11639),_=n(69885),q=n(8225),P=n(46017),S=n(68879),V=n(13119),K=n(22857),Z=n(21992),A=n(13902),Q=n(69984),U=n.n(Q);const x=(0,C.Z)(W,[["render",m]]),F=x;U()(W,"components",{QPage:_.Z,QStepper:q.Z,QStep:P.Z,QBtn:S.Z,QInput:V.Z,QIcon:K.Z,QStepperNavigation:Z.Z,QSpinner:A.Z})}}]);