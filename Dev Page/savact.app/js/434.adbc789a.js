"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[434],{76434:(e,l,t)=>{t.r(l),t.d(l,{default:()=>z});var n=t(59835),o=t(86970),a=t(61957);const s={class:"q-ma-md"},i={class:"row"},c={class:"row justify-around"},u=(0,n._)("br",null,null,-1),d={class:"row justify-evenly"},r={class:"col-10 row"},m={class:"col-1"},p={class:"q-mt-md"},g={class:"row"};function h(e,l,t,h,v,w){const f=(0,n.up)("q-toggle"),b=(0,n.up)("q-btn"),y=(0,n.up)("q-item-label"),_=(0,n.up)("q-item-section"),C=(0,n.up)("q-icon"),P=(0,n.up)("q-item"),k=(0,n.up)("q-list"),W=(0,n.up)("q-select"),q=(0,n.up)("q-input"),A=(0,n.up)("q-card-section"),V=(0,n.up)("q-card"),E=(0,n.up)("q-expansion-item"),x=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",i,[(0,n.Wm)(f,{class:"col",modelValue:e.showTestNet,"onUpdate:modelValue":l[0]||(l[0]=l=>e.showTestNet=l),label:e.t("showTestChains")},null,8,["modelValue","label"]),(0,n.Wm)(b,{icon:"settings",round:"",to:{name:"page-advanced-eosio"}})]),(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.allConnects,((l,t)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:t,class:"col-12 col-md-5 q-ma-md"},[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(P,{class:"bg-blue-grey-6 text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(l.chainParams.name),1)])),_:2},1024),(0,n.Wm)(y,{class:"text-white",caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n.Uk)("Connected amount of endpoints:"),u,(0,n.Uk)((0,o.zw)(l.getRamEPs.length)+" RAM, "+(0,o.zw)(l.getBlockEPs.length)+" Blocks, "+(0,o.zw)(l.getApiEPs.length)+" API ",1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(_,{side:""},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{name:"wifi",color:e.ChainColor(t)},null,8,["color"])])),_:2},1024)])),_:2},1024)),[[x]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.chainParams.rpcEndpoints,((t,a)=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(P,{key:a,class:(0,o.C_)(["text-white",void 0==t.available?"bg-grey-10":t.available?"bg-blue-grey-4":"bg-red-5"]),clickable:"",onClick:n=>e.toggleAvailable(l,t)},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{caption:"",lines:"2",class:"text-white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.protocol)+"://"+(0,o.zw)(t.host)+":"+(0,o.zw)(t.port),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(_,{side:"",top:"",class:"text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{name:"sensors",style:(0,o.j5)(`color:${e.pingColor(t.pingInfo)}`)},null,8,["style"]),(0,n.Uk)(" "+(0,o.zw)(t.pingInfo),1)])),_:2},1024),(0,n.Wm)(_,{side:"",top:"",class:"text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{name:"memory",style:(0,o.j5)(`color:${e.pingColor(t.pingRAM)}`)},null,8,["style"]),(0,n.Uk)(" "+(0,o.zw)(t.pingRAM),1)])),_:2},1024),(0,n.Wm)(_,{side:"",top:"",class:"text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{name:"grid_view",style:(0,o.j5)(`color:${e.pingColor(t.pingBlock)}`)},null,8,["style"]),(0,n.Uk)(" "+(0,o.zw)(t.pingBlock),1)])),_:2},1024),(0,n.Wm)(_,{side:"",top:"",class:"text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{name:"api",style:(0,o.j5)(`color:${e.pingColor(t.pingApi)}`)},null,8,["style"]),(0,n.Uk)(" "+(0,o.zw)(t.pingApi),1)])),_:2},1024)])),_:2},1032,["class","onClick"])),[[x]]))),128))])),_:2},1024)])),[[a.F8,e.showTestNet||!l.chainParams.testNet]]))),128))]),(0,n._)("div",d,[(0,n._)("div",r,[(0,n.Wm)(W,{class:"col-12 col-sm-2",label:"Protocol",outlined:"",dense:"",modelValue:e.customProtocol,"onUpdate:modelValue":l[1]||(l[1]=l=>e.customProtocol=l),options:["http","https"],"options-dense":""},null,8,["modelValue"]),(0,n.Wm)(q,{class:"col-grow",label:"Host",outlined:"",dense:"",modelValue:e.customHost,"onUpdate:modelValue":l[2]||(l[2]=l=>e.customHost=l)},null,8,["modelValue"]),(0,n.Wm)(q,{class:"col-12 col-sm-2",type:"number",label:"Port",outlined:"",dense:"",modelValue:e.customPort,"onUpdate:modelValue":l[3]||(l[3]=l=>e.customPort=l)},null,8,["modelValue"]),(0,n.Wm)(W,{class:"col-12",label:"Chain",outlined:"",dense:"",modelValue:e.selectedChain,"onUpdate:modelValue":l[4]||(l[4]=l=>e.selectedChain=l),options:e.chainIdsWithNameForOptions,"options-dense":""},null,8,["modelValue","options"])]),(0,n._)("div",m,[(0,n.Wm)(b,{class:"navi-btn full-height",outlined:"",icon:"add",dense:e.$q.screen.lt.sm,onClick:e.addEndpoint},null,8,["dense","onClick"])])]),(0,n._)("div",p,[(0,n.Wm)(E,{"expand-separator":"",label:"Test functions","expand-icon":"code",class:"q-mb-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,null,{default:(0,n.w5)((()=>[(0,n._)("div",g,[(0,n.Wm)(q,{class:"col-4",outlined:"",dense:"",modelValue:e.requestChain,"onUpdate:modelValue":l[5]||(l[5]=l=>e.requestChain=l),label:"Chain",maxlength:"255"},null,8,["modelValue"]),(0,n.Wm)(W,{standout:"",modelValue:e.requestType,"onUpdate:modelValue":l[6]||(l[6]=l=>e.requestType=l),options:e.typeOptions,class:"col-4",outlined:"",dense:"",label:"Type",maxlength:"255"},null,8,["modelValue","options"]),(0,n.Wm)(q,{class:"col-4",outlined:"",dense:"",modelValue:e.requestData,"onUpdate:modelValue":l[7]||(l[7]=l=>e.requestData=l),label:"Data",onKeydown:(0,a.D2)((0,a.iM)(e.sendRequest,["prevent"]),["enter"])},{after:(0,n.w5)((()=>[(0,n.Wm)(b,{round:"",dense:"",flat:"",icon:"send",size:"lg",onClick:e.sendRequest,class:"send-btn"},null,8,["onClick"])])),_:1},8,["modelValue","onKeydown"])])])),_:1})])),_:1})])),_:1})])])}var v=t(60499),w=t(27712),f=t(62659),b=t(5980),y=t(17779),_=function(e,l,t,n){function o(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{c(n.next(e))}catch(l){a(l)}}function i(e){try{c(n["throw"](e))}catch(l){a(l)}}function c(e){e.done?t(e.value):o(e.value).then(s,i)}c((n=n.apply(e,l||[])).next())}))};const C=(0,n.aZ)({name:"page-settings-connection",setup(){const e=(0,f.r)(),l=(0,n.Fl)((()=>e.allConnects)),t=(0,v.iH)(!1),o=(0,v.iH)(),a=(0,v.iH)(),s=(0,v.iH)(),i=(0,v.iH)(),c=(0,n.Fl)({get:()=>e.showTestNet,set:l=>{e.setShowTestNet(l)}}),u=(0,v.iH)(),d=(0,v.iH)(""),r=(0,v.iH)("eos"),m=(0,v.iH)(""),p=["get_account","get_table_rows","get_currency_balance","get_table_by_scope"];function g(){return _(this,void 0,void 0,(function*(){const e=(0,b.GetConnectByChainId)(r.value,l.value);if(void 0==e)return void y.log("No connection found");let t;try{switch(d.value){case"get_account":t=yield e.get_account(m.value);break;case"get_table_rows":let l=JSON.parse(m.value);if(void 0==l)return;t=yield e.get_table_rows(l);break;case"get_currency_balance":let n=JSON.parse(m.value);if(void 0==n)return;const o=n;t=yield e.get_currency_balance(o.code,o.account,o.symbol);break;case"get_table_by_scope":let a=JSON.parse(m.value);if(void 0==a)return;t=yield e.get_table_by_scope(a);break}y.log("Result of the request",t),"json"in t&&(500===t.json.code?y.log("Account name doesn't exists"):y.log(`Unknown error ${t.json.code}`))}catch(n){y.log("Cannot send the request",n)}}))}const h=3;function C(e){const t=l.value[e];return void 0==t.getRamEPs||t.getRamEPs.length<=0?t.testedAllEPsAvailable?"red":"":t.getRamEPs.length>=h?"green":"orange"}function P(e){if(void 0==e||e<=0)return-1===e?"black":"grey";let l="";return e<=3e3?(l=e<=600?`#${(10*Math.floor(25.5*e/600)).toString(16).replace("-","0").padStart(2,"0")}ff00`:`#ff${(255-10*Math.floor(25.5*(e-600)/2300)).toString(16).replace("-","0").padStart(2,"0")}00`,l):"red"}function k(e,l){void 0!=l.available&&(l.available?(W(e.getRamEPs,l),W(e.getBlockEPs,l),W(e.getApiEPs,l),l.available=!1):(b.Connect.AddAvailableEndpointByPingRAM(e.getRamEPs,l),b.Connect.AddAvailableEndpointByPingRAM(e.getBlockEPs,l),b.Connect.AddAvailableEndpointByPingRAM(e.getApiEPs,l),l.available=!0))}function W(e,l){let t=null;e.find(((e,n)=>e==l&&(t=n,!0))),null!=t&&e.splice(t,1)}const q=(0,n.Fl)((()=>l.value.map((e=>e.chainParams.chainId+(e.chainParams.name?" "+e.chainParams.name:"")))));function A(){var e;let t=null===(e=i.value)||void 0===e?void 0:e.trim();if(!t)return;let n=t.indexOf(" ");n&&(t=t.substring(0,n)),y.log("s",t);let c=l.value.find((e=>e.chainParams.chainId==t));if(s.value&&"number"!=typeof s.value&&(s.value=parseInt(s.value)),o.value&&a.value&&a.value.includes(".")&&"number"==typeof s.value&&s.value>=0){y.log("connect",c);const e={protocol:o.value,host:a.value,port:s.value};null===c||void 0===c||c.chainParams.rpcEndpoints.push(e),y.log("Added endpoint",e)}}function V(){y.log("jo"),u.value=i.value}return{allConnects:l,loading:t,ChainColor:C,pingColor:P,toggleAvailable:k,requestType:d,typeOptions:p,requestData:m,requestChain:r,sendRequest:g,customProtocol:o,customHost:a,customPort:s,customChainId:u,selectedChain:i,addEndpoint:A,chainIdsWithNameForOptions:q,onSelectCustomChain:V,showTestNet:c,t:(0,w.QT)({useScope:"global"}).t.bind(this)}}});var P=t(11639),k=t(23175),W=t(68879),q=t(13246),A=t(490),V=t(76749),E=t(33115),x=t(5412),R=t(22857),U=t(26384),I=t(13119),T=t(50651),Z=t(44458),H=t(63190),Q=t(51136),S=t(69984),N=t.n(S);const j=(0,P.Z)(C,[["render",h]]),z=j;N()(C,"components",{QToggle:k.Z,QBtn:W.Z,QList:q.Z,QItem:A.Z,QItemSection:V.Z,QItemLabel:E.Z,QSpinnerPuff:x.Z,QIcon:R.Z,QSelect:U.Z,QInput:I.Z,QExpansionItem:T.Z,QCard:Z.Z,QCardSection:H.Z}),N()(C,"directives",{Ripple:Q.Z})}}]);